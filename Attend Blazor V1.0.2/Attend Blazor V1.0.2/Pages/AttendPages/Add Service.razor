@page "/Add/Service"

@using System.Data.SqlClient;

<h3>Add Service</h3>

<h4>Insert New Product</h4>

         Date   <input @bind="txtDate" />                  Name  <input @bind="txtName" /><br><br>

  Manufacture   <input @bind="txtM" />                    Model  <input @bind="txtModel" /><br><br>

     Quantity   <input @bind="txtQuantity" />        Cost Price  <input @bind="txtCost" /><br><br>

   Sell Price   <input @bind="txtSell" />              Location  <input @bind="txtLoc" /><br><br>

    Condition   <input @bind="txtC" />                Availabel  <input @bind="txtAV" /><br><br>

    Allocated   <input @bind="txtAL" />               Suppliers  <input @bind="txtS" /><br><br>

Serial_Number   <input @bind="txtSerial" />            Category  <input @bind="txtCa" /><br><br>

        Notes   <input @bind="txtNotes" /><br><br>

                      <button class="btn btn-primary" @onclick="Add">Add</button><br><br>

@code {

    private int txtDate { get; set; }
    private string txtName { get; set; }
    private string txtM { get; set; }
    private string txtModel { get; set; }
    private int txtQuantity { get; set; }
    private int txtCost { get; set; }
    private int txtSell { get; set; }
    private string txtLoc { get; set; }
    private string txtC { get; set; }
    private string txtAV { get; set; }
    private string txtAL { get; set; }
    private string txtS { get; set; }
    private int txtSerial { get; set; }
    private string txtCa { get; set; }
    private string txtNotes { get; set; }

    public void Add()
    {


        string connString = @"Data Source=DESKTOP-21H6HAU\DESKTOP;Initial Catalog=Attend;Integrated Security=True;
            Connect Timeout=30;Encrypt=False;TrustServerCertificate=False;ApplicationIntent=ReadWrite;MultiSubnetFailover=False";
        SqlConnection conn;
        SqlCommand command;
        string insert = @"insert into Inventory(Date_Added, Name, Manufacture, Model_Name, Quantity, Cost_Price, Sell_Price,
                                           Location, Condition, Availabel, Allocated, Suppliers, Notes, Category, Serial_Number)

                    values(@Date_Added, @Name, @Manufacture, @Model_Name, @Quantity, @Cost_Price, @Sell_Price,
                                           @Location, @Condition, @Availabel, @Allocated, @Suppliers, @Notes, @Category, @Serial_Number)";
        conn = new SqlConnection(connString);
        conn.Open();

        command = new SqlCommand(insert, conn);
        command.Parameters.AddWithValue(@"Date_Added", txtDate);
        command.Parameters.AddWithValue(@"Name", txtName);
        command.Parameters.AddWithValue(@"Model_Name", txtModel); ;
        command.Parameters.AddWithValue(@"Quantity", txtQuantity);
        command.Parameters.AddWithValue(@"Cost_Price", txtCost);
        command.Parameters.AddWithValue(@"Sell_Price", txtSell);
        command.Parameters.AddWithValue(@"Location", txtLoc);
        command.Parameters.AddWithValue(@"Condition", txtC);
        command.Parameters.AddWithValue(@"Manufacture", txtM);
        command.Parameters.AddWithValue(@"Availabel", txtAV);
        command.Parameters.AddWithValue(@"Allocated", txtAL);
        command.Parameters.AddWithValue(@"Suppliers", txtS);
        command.Parameters.AddWithValue(@"Serial_Number", txtSerial);
        command.Parameters.AddWithValue(@"Category", txtCa);
        command.Parameters.AddWithValue(@"Notes", txtNotes);

        command.ExecuteNonQuery();
       
        
    }
}
